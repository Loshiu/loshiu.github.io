import{t as ne,E as Te,a as $e}from"./el-image-viewer.b0807435.js";import{b as ue,e as Ne,a as G,u as ce,O as p,c as H,h as t,R as K,Q as Be,T as J,S as Ae,af as He,ag as Le,p as ze,o as h,q as w,x as C,g as le,w as $,a2 as X,a3 as Y,n as I,U,s as b,X as Ve,V as re,a4 as ie,I as F,Y as je,r as ve,j as fe,F as de,v as me,y as pe,_ as he,ac as Pe,i as Oe,ah as Re,ai as We,aj as De,ak as Ue,l as Fe,al as Ke,E as Xe,t as Ye,am as qe,z as Qe,B as Ge}from"./index.268a4254.js";const _e=Symbol("carouselContextKey"),Je=ue({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Ze={change:(L,k)=>[L,k].every(Ne)},xe=["onMouseenter","onMouseleave"],et=["onMouseenter","onClick"],tt={key:0},st={name:"ElCarousel"},at=G({...st,props:Je,emits:Ze,setup(L,{expose:k,emit:_}){const s=L,r=ce("carousel"),d=300,a=p(-1),u=p(null),y=p(!1),m=p(),i=p([]),E=H(()=>s.arrow!=="never"&&!t(M)),N=H(()=>i.value.some(e=>e.props.label.toString().length>0)),S=H(()=>{const e=[r.b(),r.m(s.direction)];return t(B)&&e.push(r.m("card")),e}),z=H(()=>{const e=[r.e("indicators"),r.em("indicators",s.direction)];return N.value&&e.push(r.em("indicators","labels")),(s.indicatorPosition==="outside"||t(B))&&e.push(r.em("indicators","outside")),e}),B=H(()=>s.type==="card"),M=H(()=>s.direction==="vertical"),V=ne(e=>{n(e)},d,{trailing:!0}),W=ne(e=>{Ie(e)},d);function j(){u.value&&(clearInterval(u.value),u.value=null)}function P(){s.interval<=0||!s.autoplay||u.value||(u.value=setInterval(()=>l(),s.interval))}const l=()=>{a.value<i.value.length-1?a.value=a.value+1:s.loop&&(a.value=0)};function n(e){if(Pe(e)){const g=i.value.filter(R=>R.props.name===e);g.length>0&&(e=i.value.indexOf(g[0]))}if(e=Number(e),Number.isNaN(e)||e!==Math.floor(e))return;const o=i.value.length,v=a.value;e<0?a.value=s.loop?o-1:0:e>=o?a.value=s.loop?0:o-1:a.value=e,v===a.value&&c(v),te()}function c(e){i.value.forEach((o,v)=>{o.translateItem(v,a.value,e)})}function f(e){i.value.push(e)}function A(e){const o=i.value.findIndex(v=>v.uid===e);o!==-1&&(i.value.splice(o,1),a.value===o&&ee())}function O(e,o){var v,g,R,se;const D=t(i),ae=D.length;if(ae===0||!e.states.inStage)return!1;const Ce=o+1,be=o-1,oe=ae-1,ke=D[oe].states.active,Ee=D[0].states.active,Se=(g=(v=D[Ce])==null?void 0:v.states)==null?void 0:g.active,Me=(se=(R=D[be])==null?void 0:R.states)==null?void 0:se.active;return o===oe&&Ee||Se?"left":o===0&&ke||Me?"right":!1}function T(){y.value=!0,s.pauseOnHover&&j()}function q(){y.value=!1,P()}function Z(e){t(M)||i.value.forEach((o,v)=>{e===O(o,v)&&(o.states.hover=!0)})}function x(){t(M)||i.value.forEach(e=>{e.states.hover=!1})}function ye(e){a.value=e}function Ie(e){s.trigger==="hover"&&e!==a.value&&(a.value=e)}function we(){n(a.value-1)}function ee(){n(a.value+1)}function te(){j(),P()}K(()=>a.value,(e,o)=>{c(o),o>-1&&_("change",e,o)}),K(()=>s.autoplay,e=>{e?P():j()}),K(()=>s.loop,()=>{n(a.value)}),K(()=>s.interval,()=>{te()});const Q=Be();return J(async()=>{await Ae(),Q.value=He(m.value,()=>{c()}),s.initialIndex<i.value.length&&s.initialIndex>=0&&(a.value=s.initialIndex),P()}),Le(()=>{j(),m.value&&Q.value&&Q.value.stop()}),ze(_e,{root:m,isCardType:B,isVertical:M,items:i,loop:s.loop,addItem:f,removeItem:A,setActiveItem:n}),k({setActiveItem:n,prev:we,next:ee}),(e,o)=>(h(),w("div",{ref_key:"root",ref:m,class:I(t(S)),onMouseenter:U(T,["stop"]),onMouseleave:U(q,["stop"])},[C("div",{class:I(t(r).e("container")),style:fe({height:e.height})},[t(E)?(h(),le(ie,{key:0,name:"carousel-arrow-left",persisted:""},{default:$(()=>[X(C("button",{type:"button",class:I([t(r).e("arrow"),t(r).em("arrow","left")]),onMouseenter:o[0]||(o[0]=v=>Z("left")),onMouseleave:x,onClick:o[1]||(o[1]=U(v=>t(V)(a.value-1),["stop"]))},[b(t(re),null,{default:$(()=>[b(t(Ve))]),_:1})],34),[[Y,(e.arrow==="always"||y.value)&&(s.loop||a.value>0)]])]),_:1})):F("v-if",!0),t(E)?(h(),le(ie,{key:1,name:"carousel-arrow-right",persisted:""},{default:$(()=>[X(C("button",{type:"button",class:I([t(r).e("arrow"),t(r).em("arrow","right")]),onMouseenter:o[2]||(o[2]=v=>Z("right")),onMouseleave:x,onClick:o[3]||(o[3]=U(v=>t(V)(a.value+1),["stop"]))},[b(t(re),null,{default:$(()=>[b(t(je))]),_:1})],34),[[Y,(e.arrow==="always"||y.value)&&(s.loop||a.value<i.value.length-1)]])]),_:1})):F("v-if",!0),ve(e.$slots,"default")],6),e.indicatorPosition!=="none"?(h(),w("ul",{key:0,class:I(t(z))},[(h(!0),w(de,null,me(i.value,(v,g)=>(h(),w("li",{key:g,class:I([t(r).e("indicator"),t(r).em("indicator",e.direction),t(r).is("active",g===a.value)]),onMouseenter:R=>t(W)(g),onClick:U(R=>ye(g),["stop"])},[C("button",{class:I(t(r).e("button"))},[t(N)?(h(),w("span",tt,pe(v.props.label),1)):F("v-if",!0)],2)],42,et))),128))],2)):F("v-if",!0)],42,xe))}});var ot=he(at,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const nt=ue({name:{type:String,default:""},label:{type:[String,Number],default:""}}),lt={name:"ElCarouselItem"},rt=G({...lt,props:nt,setup(L){const k=L,_=ce("carousel"),s=Oe(_e),r=De(),d=.83,a=p(!1),u=p(0),y=p(1),m=p(!1),i=p(!1),E=p(!1),N=p(!1),{isCardType:S,isVertical:z}=s,B=H(()=>{const n=`${`translate${t(z)?"Y":"X"}`}(${t(u)}px)`,c=`scale(${t(y)})`;return{transform:[n,c].join(" ")}});function M(l,n,c){const f=c-1,A=n-1,O=n+1,T=c/2;return n===0&&l===f?-1:n===f&&l===0?c:l<A&&n-l>=T?c+1:l>O&&l-n>=T?-2:l}function V(l,n){var c;const f=((c=s.root.value)==null?void 0:c.offsetWidth)||0;return E.value?f*((2-d)*(l-n)+1)/4:l<n?-(1+d)*f/4:(3+d)*f/4}function W(l,n,c){const f=s.root.value;return f?((c?f.offsetHeight:f.offsetWidth)||0)*(l-n):0}const j=(l,n,c)=>{var f;const A=t(S),O=(f=s.items.value.length)!=null?f:Number.NaN,T=l===n;!A&&!Ue(c)&&(N.value=T||l===c),!T&&O>2&&s.loop&&(l=M(l,n,O));const q=t(z);m.value=T,A?(E.value=Math.round(Math.abs(l-n))<=1,u.value=V(l,n),y.value=t(m)?1:d):u.value=W(l,n,q),i.value=!0};function P(){if(s&&t(S)){const l=s.items.value.findIndex(({uid:n})=>n===r.uid);s.setActiveItem(l)}}return J(()=>{s.addItem({props:k,states:Re({hover:a,translate:u,scale:y,active:m,ready:i,inStage:E,animating:N}),uid:r.uid,translateItem:j})}),We(()=>{s.removeItem(r.uid)}),(l,n)=>X((h(),w("div",{class:I([t(_).e("item"),t(_).is("active",m.value),t(_).is("in-stage",E.value),t(_).is("hover",a.value),t(_).is("animating",N.value),{[t(_).em("item","card")]:t(S)}]),style:fe(t(B)),onClick:P},[t(S)?X((h(),w("div",{key:0,class:I(t(_).e("mask"))},null,2)),[[Y,!m.value]]):F("v-if",!0),ve(l.$slots,"default")],6)),[[Y,i.value]])}});var ge=he(rt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const it=Fe(ot,{CarouselItem:ge}),ut=Ke(ge);const ct={class:"main"},vt={class:"small justify-center",text:"2xl"},ft={class:"panel"},dt={class:"title"},mt=["innerHTML"],pt={class:"voteBtn"},ht=Qe("\u6295\u7968"),_t=G({__name:"Attractions",setup(L){const k=Ye(),s=k.state.attractions.bajing,r=qe(),d=s[r.params.index];let a=document.documentElement.clientWidth,u=new Image,m=p((()=>(u.src=d.path,a<u.width?a/u.width*u.height+"px":u.height+"px"))());const i=()=>{k.commit("vote",r.params.index)};return J(()=>{window.onresize=()=>(()=>{a=document.documentElement.clientWidth,a<u.width&&(m.value=a/u.width*u.height+"px")})()}),(E,N)=>{const S=Te,z=ut,B=it,M=Xe,V=$e;return h(),w("div",ct,[b(B,{trigger:"click",height:t(m)},{default:$(()=>[(h(),w(de,null,me(4,W=>b(z,{key:W},{default:$(()=>[C("h3",vt,[b(S,{src:t(d).path,fit:"cover"},null,8,["src"])])]),_:2},1024)),64))]),_:1},8,["height"]),C("div",ft,[b(V,{shadow:"always"},{default:$(()=>[C("h1",dt,pe(t(d).name),1),C("p",{class:"content",innerHTML:t(d).content},null,8,mt),C("div",pt,[b(M,{type:"primary",size:"default",onClick:i,round:"",disabled:t(d).isVote},{default:$(()=>[ht]),_:1},8,["disabled"])])]),_:1})])])}}});const It=Ge(_t,[["__scopeId","data-v-f1246f63"]]);export{It as default};
